<?xml version="1.0" encoding="ISO-8859-1" ?>
<database>
	 <name>*dbname*</name>
	 <create>true</create>
	 <overwrite>false</overwrite>
	 <charset>utf8</charset>
	 <table>
		<name>*dbprefix*multiinstance_locations</name>
		<declaration>
			<field>				
				<name>id</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
					<autoincrement>1</autoincrement>
				<length>4</length>
			</field>
			<field>
				<name>location</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>ip</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>15</length>
			</field>
		</declaration>
	</table>
	<table>

		<name>*dbprefix*multiinstance_queued_users</name>

		<declaration>

			<field>
				<name>uid</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>

			<field>
				<name>displayname</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>

			<field>
				<name>password</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>255</length>
			</field>
			<field>
				<name>added_at</name>
				<type>timestamp</type>
				<default></default>
				<notnull>false</notnull>
			</field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<index>
				<name>uid_index</name>
				<field>
					<name>uid</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>added_at_index</name>
				<field>
					<name>added_at</name>
					<sorting>descending</sorting>
				</field>
			</index>
			<index>
				<name>destination_location_index</name>
				<field>
					<name>destination_location</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>

	</table>

	<table>
		<name>*dbprefix*multiinstance_received_users</name>

		<declaration>
			<field>
				<name>uid</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>

			<field>
				<name>displayname</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>

			<field>
				<name>password</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>255</length>
			</field>
			<field>
				<name>added_at</name>
				<type>timestamp</type>
				<default></default>
				<notnull>false</notnull>
			</field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<index>
				<name>uid_index</name>
				<field>
					<name>uid</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>added_at_index</name>
				<field>
					<name>added_at</name>
					<sorting>descending</sorting>
				</field>
			</index>
		</declaration>
	</table>

	<table>
		<name>*dbprefix*multiinstance_user_updates</name>

		<declaration>	
			<field>
				<name>uid</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>updated_at</name>
				<type>timestamp</type>
				<default></default>
				<notnull>false</notnull>
			</field>
			<index>
				<name>uid_index</name>
				<field>
					<name>uid</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*multiinstance_queued_friendships</name>

		<declaration>	
			<field>
				<name>friend_uid1</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>friend_uid2</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>status</name>
				<type>integer</type>
				<default></default>
				<notnull>true</notnull>
				<length>1</length>
			</field>
			<field>
				<name>updated_at</name>
				<type>timestamp</type>
				<default></default>
				<notnull>false</notnull>
			</field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<index>
				<name>requester_index</name>
				<field>
					<name>friend_uid1</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>recipient_index</name>
				<field>
					<name>friend_uid2</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>updated_at_index</name>
				<field>
					<name>updated_at</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>destination_location_index</name>
				<field>
					<name>destination_location</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*multiinstance_received_friendships</name>

		<declaration>	
			<field>
				<name>friend_uid1</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>friend_uid2</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>status</name>
				<type>integer</type>
				<default></default>
				<notnull>true</notnull>
				<length>1</length>
			</field>
			<field>
				<name>updated_at</name>
				<type>timestamp</type>
				<default></default>
				<notnull>false</notnull>
			</field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<index>
				<name>requester_index</name>
				<field>
					<name>friend_uid1</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>recipient_index</name>
				<field>
					<name>friend_uid2</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>updated_at_index</name>
				<field>
					<name>updated_at</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>
	</table>
        <table>
                <name>*dbprefix*multiinstance_queued_user_facebook_ids</name>
                <declaration>
                        <field>
                                <name>uid</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>
                        <field>
                                <name>facebook_id</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>32</length>
                        </field>
                        <field>
                                <name>facebook_name</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>100</length>
                        </field>
                        <field>
                                <name>friends_synced_at</name>
                                <type>timestamp</type>
                                <default></default>
                                <notnull>false</notnull>
                        </field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
                        <index>
                                <name>uid_index</name>
                                <field>
                                        <name>uid</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
                        <index>
                                <name>friends_synced_at_index</name>
                                <field>
                                        <name>friends_synced_at</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
                </declaration>
        </table>
        <table>
                <name>*dbprefix*multiinstance_received_user_facebook_ids</name>
                <declaration>
                        <field>
                                <name>uid</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>
                        <field>
                                <name>facebook_id</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>32</length>
                        </field>
                        <field>
                                <name>facebook_name</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>100</length>
                        </field>
                        <field>
                                <name>friends_synced_at</name>
                                <type>timestamp</type>
                                <default></default>
                                <notnull>false</notnull>
                        </field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
                        <index>
                                <name>uid_index</name>
                                <field>
                                        <name>uid</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
                        <index>
                                <name>friends_synced_at_index</name>
                                <field>
                                        <name>friends_synced_at</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
                </declaration>
        </table>
        <table>
                <name>*dbprefix*multiinstance_queued_requests</name>
                <declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
			</field>
                        <field>
                                <name>sending_location</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>
                        <field>
                                <name>request_type</name>
                                <type>integer</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>3</length>
                        </field>
                        <field>
                                <name>added_at</name>
                                <type>timestamp</type>
                                <default></default>
                                <notnull>false</notnull>
                        </field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
                        <field>
                                <name>field1</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>100</length>
                        </field>
			<index>
				<name>id_index</name>
				<field>
					<name>id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
                        <index>
                                <name>sending_location_index</name>
                                <field>
                                        <name>sending_location</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
			<index>
				<name>request_type_index</name>
				<field>
					<name>request_type</name>
					<sorting>ascending</sorting>
				</field>
			</index>
                        <index>
                                <name>added_at_index</name>
                                <field>
                                        <name>added_at</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
                </declaration>
        </table>
        <table>
                <name>*dbprefix*multiinstance_received_requests</name>
                <declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
                        <field>
                                <name>sending_location</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>
                        <field>
                                <name>request_type</name>
                                <type>integer</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>3</length>
                        </field>
                        <field>
                                <name>added_at</name>
                                <type>timestamp</type>
                                <default></default>
                                <notnull>false</notnull>
                        </field>
			<field>
				<name>destination_location</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
                        <field>
                                <name>field1</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>100</length>
                        </field>
			<index>
				<name>id_index</name>
				<field>
					<name>id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
                        <index>
                                <name>sending_location_index</name>
                                <field>
                                        <name>sending_location</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
			<index>
				<name>request_type_index</name>
				<field>
					<name>request_type</name>
					<sorting>ascending</sorting>
				</field>
			</index>
                        <index>
                                <name>added_at_index</name>
                                <field>
                                        <name>added_at</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>
                </declaration>
        </table>
        <table>
                <name>*dbprefix*multiinstance_queued_responses</name>
                <declaration>
			<field>
				<name>request_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
                        <field>
                                <name>destination_location</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>
			<field>
				<name>answer</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
                        <field>
                                <name>added_at_micro_time</name>
                                <type>float</type>
                                <default></default>
                                <notnull>false</notnull>
                        </field>
			<index>
				<name>request_id_index</name>
				<field>
					<name>request_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
                </declaration>
        </table>
        <table>
                <name>*dbprefix*multiinstance_received_responses</name>
                <declaration>
			<field>
				<name>request_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
                        <field>
                                <name>destination_location</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>
			<field>
				<name>answer</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
                        <field>
                                <name>added_at_micro_time</name>
                                <type>float</type>
                                <default></default>
                                <notnull>false</notnull>
                        </field>
			<index>
				<name>request_id_index</name>
				<field>
					<name>request_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
                </declaration>
        </table>


        <table>

                <name>*dbprefix*multiinstance_queued_filecache</name>

                <declaration>

                        <field>
                                <name>storage</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>

                        <field>
                                <name>path</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>512</length>
                        </field>

                        <field>
                                <name>path_hash</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>32</length>
                        </field>

                        <field>
                                <name>parent</name>
                                <type>integer</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>4</length>
                        </field>

                        <field>
                                <name>name</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>250</length>
                        </field>
                        <field>
                                <name>mimetype</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>255</length>
                        </field>           

                        <field>
                                <name>mimepart</name>
                                <type>integer</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>4</length>
                        </field>

                        <field>
                                <name>size</name>
                                <type>integer</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>8</length>
                        </field>

                        <field>
                                <name>mtime</name>
                                <type>integer</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>4</length>
                        </field>

                        <field>
                                <name>encrypted</name>
                                <type>integer</type>
                                <default>0</default>
                                <notnull>true</notnull>
                                <length>4</length>
                        </field>

                        <field>
                                <name>etag</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>40</length>
                        </field>

                        <field>
                                <name>added_at</name>
                                <type>timestamp</type>
                                <default></default>
                                <notnull>false</notnull>
                        </field>
                        <field>
                                <name>destination_location</name>
                                <type>text</type>
                                <default></default>
                                <notnull>true</notnull>
                                <length>64</length>
                        </field>

                        <index>
                                <name>fs_storage_path_hash</name>
                                <unique>true</unique>
                                <field>
                                        <name>storage</name>
                                        <sorting>ascending</sorting>
                                </field>
                                <field>
                                        <name>path_hash</name>
                                        <sorting>ascending</sorting>
                                </field>
			</index>

                        <index>
                                <name>fs_parent_name_hash</name>
                                <field>
                                        <name>parent</name>
                                        <sorting>ascending</sorting>
                                </field>
                                <field>
                                        <name>name</name>
                                        <sorting>ascending</sorting>
                                </field>
                        </index>


                </declaration>

        </table>

</database>
